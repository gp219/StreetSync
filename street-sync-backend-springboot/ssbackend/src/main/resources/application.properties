spring.application.name=ssbackend

# --- MongoDB Atlas ---
spring.mongodb.uri=${MONGODB_URI}
spring.data.mongodb.auto-index-creation=true

# --- JWT Security ---
streetsync.jwt.secret=${JWT_SECRET}
streetsync.jwt.expiration=86400000

# --- SSL Bundle for Aiven Kafka ---
# This defines a bundle named 'aiven-bundle' using Base64 encoded certificates
spring.ssl.bundle.pem.aiven-bundle.truststore.certificate=base64:${KAFKA_CA_CERT}
spring.ssl.bundle.pem.aiven-bundle.keystore.certificate=base64:${KAFKA_SERVICE_CERT}
spring.ssl.bundle.pem.aiven-bundle.keystore.private-key=base64:${KAFKA_SERVICE_KEY}

# --- Kafka Cloud Configuration ---
spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVER}
spring.kafka.security.protocol=SSL
spring.kafka.ssl.bundle=aiven-bundle

# Producer Config
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer

# Consumer Config
spring.kafka.consumer.group-id=street-sync-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*

# Listener Startup
spring.kafka.listener.auto-startup=true
server.port=${PORT:8080}